{% extends 'base.html' %}
{% load i18n %} {% load l10n %}
{% load static %}

{% block title %}{% trans 'Customers' %}{% endblock %}

{% block script %}<script src="{% static 'js/customers.js' %}"></script>{% endblock %}

<!-- SIDE BAR -->
{% block sidebar %}
    <nav id="id_sidebar" class="tsa_sidebar">
        <div class="sidebar_header">
            <h3>{% trans 'Customers' %}</h3>
        </div>

        <div class="td_width_200 mx-2 mt-2 mb-5">
            <table >
                <thead id="id_thead_select"class="mx-1 my-1 ">
                <tr>
                    {% trans 'Select customer' %}:

                <input id="id_flt_select"
                    type="text"
                    class="td_width_200 line_height_normal"
                    placeholder="{% trans 'filter ...' %}">
                </tr>
                </thead>
                <tbody id="id_tbody_select"></tbody>
            </table>
        </div>
    </nav>
{% endblock %}
<!-- END SIDE BAR -->

{% block content %}
    {% if user.is_authenticated %}
        <!-- =================== id_msgbox  =================== -->
        <div class="popup display_hide">
            <span class="popuptext" id="id_msgbox"></span>
        </div>

    <!-- =================== CONTAINER =================== -->
        <div class="container">
            <!-- CONTENT HEADER - LOADER -->
            <div class="mt-5">

                <!-- class content_header -->
                <div class="content_header">

                    <div class="content_subheader_left mx-2">
                        <h5 id="id_hdr_customer">{% trans 'Select customer' %}...</h5>
                    </div>
                                        <!-- loader -->
                    <div class="content_header_middle mx-4">
                        <div id="id_loader" class="image_container XXXvisibility_hide">
                            <img  src="{% static 'img/loader.gif' %}" height="24" width="24">
                        </div>
                    </div>
                    <!-- loader -->

                </div>
                <!-- end class content_header -->

            </div>
            <!-- end CONTENT HEADER - LOADER -->

            <!-- BUTTON GROUP -->
            <div id="id_btn_container" class="btn-group btn-block mx-2 my-2" role="group" aria-label="Choose option" >
                <button id="id_btn_list" type="button"  class="btn btn-secondary ">{% trans 'List' %}</button>
                <button id="id_btn_data" type="button"  class="btn btn-secondary ">{% trans 'Data' %}</button>
                <button id="id_btn_order" type="button"  class="btn btn-secondary ">{% trans 'Orders' %}</button>
                <button id="id_btn_roster" type="button"  class="btn btn-secondary ">{% trans 'Roster' %}</button>
            </div>
            <!-- end BUTTON GROUP -->
    <!-- =================== DATA TABLE  =================== -->
            <div class="content_body mx-2">
                <div class="popup-container">
                    <table class="table tsa-tbl">
                        <thead id="id_thead_items" class="thead-inverse"></thead>
                        <tbody id="id_tbody_items"></tbody>
                    </table>
                </div>
             </div>
    <!-- =================== END DATA TABLE  =================== -->
        </div>
    <!-- =================== END CONTAINER =================== -->
        <div id="id_data"
            data-ppk ="{{ ppk }}"
            data-lang ="{{ lang }}"

            data-imgsrc_inactive = "{% static 'img/inactive_black.png' %}"
            data-imgsrc_active = "{% static 'img/inactive_grey.png' %}"
            data-imgsrc_delete="{% static 'img/delete.gif' %}"


            data-customer_upload_url="{% url 'customer_upload_url' %}"
            data-datalist_download_url="{% url 'datalist_download_url' %}"
            data-err_msg01= "{% trans 'An error occurred.' %}"

            data-txt_shortname= "{% trans 'Short name' %}"
            data-txt_customer_name= "{% trans 'Customer name' %}"
            data-txt_identifier = "{% trans 'Identifier' %}"
            data-txt_interval = "{% trans 'Interval' %}"

            data-txt_customer_add= "{% trans 'Add new customer' %}"
            data-txt_make_inactive= "{% trans 'Make customer inactive' %}"
            data-txt_make_active= "{% trans 'Make customer active' %}"

        >
        </div>

    {% else %}
        <div class="alert alert-danger">{% trans 'Error' %}</div>
        <a href="{% url 'home' %}" class="btn btn-outline-primary">{% trans 'Cancel' %}</a>
    {% endif %}
{% endblock %}